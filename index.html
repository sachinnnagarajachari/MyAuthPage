<!DOCTYPE html>
<html>
<head>
    <title>MFA Demo — Login</title>
</head>
<body>
    <h1>MFA Demo — Login</h1>
    <p>Enter the OTP generated on the Send page.</p>

    <label>OTP</label>
    <input type="text" id="otpInput">
    <br><br>
    <button onclick="verifyOTP()">Verify & Login</button>
    <p id="resultMessage"></p>

    <script>
        function verifyOTP() {
            const enteredOtp = document.getElementById('otpInput').value.trim();
            const storedOtp = localStorage.getItem('otp'); // Get OTP from localStorage

            if (!storedOtp) {
                document.getElementById('resultMessage').innerText =
                    'No OTP found. Please generate OTP from the Send page.';
                return;
            }

            if (enteredOtp === storedOtp) {
                document.getElementById('resultMessage').innerText = 'OTP Verified! Redirecting to dashboard...';
                window.location.href = 'dashboard.html';
            } else {
                document.getElementById('resultMessage').innerText = 'Invalid OTP. Please try again.';
            }
        }
    </script>
</body>
</html>
